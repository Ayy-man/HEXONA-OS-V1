<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexona OS - Partner Portal</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="partner-portal">
    <!-- Header -->
    <header class="main-header">
        <div class="header-left">
            <h1 class="logo">Hexona OS</h1>
            <span class="portal-label">Partner Portal</span>
        </div>
        <div class="header-right">
            <div class="notifications">
                <span class="notification-badge">1</span>
                <svg class="icon-bell" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
            </div>
            <div class="user-info">
                <span class="user-name">DFY Dave</span>
                <span class="user-role">Partner</span>
            </div>
        </div>
    </header>

    <!-- View Tabs -->
    <section class="view-tabs-section">
        <div class="view-tabs">
            <a href="index.html" class="view-tab">Kanban</a>
            <a href="list-view.html" class="view-tab">List View</a>
            <a href="partner-portal.html" class="view-tab active">Partner Portal</a>
            <a href="#analytics" class="view-tab">Analytics</a>
        </div>
    </section>

    <!-- Partner Metrics -->
    <section class="metrics-bar partner-metrics">
        <div class="metric-card">
            <span class="metric-label">Total Proposals</span>
            <span class="metric-value">18</span>
            <span class="metric-subtext">This month: 4</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">Conversion Rate</span>
            <span class="metric-value">22%</span>
            <span class="metric-subtext">4 won / 18 total</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">Pipeline Value</span>
            <span class="metric-value">$68,500</span>
            <span class="metric-subtext">5 active proposals</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">Commission Earned</span>
            <span class="metric-value">$3,400</span>
            <span class="metric-subtext">Pending: $850</span>
        </div>
    </section>

    <!-- Partner Dashboard -->
    <main class="partner-dashboard">
        <!-- Active Proposals Section -->
        <section class="proposals-section">
            <div class="section-header">
                <h2>Active Proposals</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterProposals('all')">All</button>
                    <button class="filter-btn" onclick="filterProposals('sent')">Sent</button>
                    <button class="filter-btn" onclick="filterProposals('negotiation')">In Negotiation</button>
                    <button class="filter-btn" onclick="filterProposals('won')">Won</button>
                </div>
            </div>

            <div class="proposals-grid">
                <!-- Proposal 1 -->
                <div class="partner-proposal-card" data-status="sent">
                    <div class="proposal-status-bar sent">
                        <span class="status-label">SENT</span>
                        <span class="status-date">3 days ago</span>
                    </div>
                    <div class="proposal-content">
                        <h3>TechCorp Automation</h3>
                        <p class="client-name">Client: TechCorp Industries</p>
                        <div class="proposal-details">
                            <div class="detail-row">
                                <span class="detail-label">Type:</span>
                                <span class="detail-value">Blueprint</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Value:</span>
                                <span class="detail-value">$15,000</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Commission:</span>
                                <span class="detail-value">$750 (5%)</span>
                            </div>
                        </div>
                        <div class="status-update-section">
                            <label>Update Status:</label>
                            <select class="status-select" onchange="updateProposalStatus(this, 'prop-1')">
                                <option value="sent" selected>Sent to Client</option>
                                <option value="meeting">Meeting Scheduled</option>
                                <option value="reviewing">Under Review</option>
                                <option value="negotiating">Negotiating</option>
                                <option value="verbal">Verbal Commitment</option>
                                <option value="won">Won</option>
                                <option value="lost">Lost</option>
                            </select>
                        </div>
                        <div class="proposal-actions">
                            <button class="btn btn-secondary" onclick="viewProposal('prop-1')">View Proposal</button>
                            <button class="btn btn-primary" onclick="downloadProposal('prop-1')">Download PDF</button>
                        </div>
                        <div class="comments-section">
                            <h4>Comments & Questions</h4>
                            <div class="comment">
                                <span class="comment-author">Hamza:</span>
                                <span class="comment-text">Client seemed interested in the automation features. Focus on ROI when presenting.</span>
                            </div>
                            <textarea class="comment-input" placeholder="Add a comment or question..."></textarea>
                            <button class="btn btn-small" onclick="addComment('prop-1')">Send</button>
                        </div>
                    </div>
                </div>

                <!-- Proposal 2 -->
                <div class="partner-proposal-card" data-status="negotiation">
                    <div class="proposal-status-bar negotiation">
                        <span class="status-label">NEGOTIATION</span>
                        <span class="status-date">Updated today</span>
                    </div>
                    <div class="proposal-content">
                        <h3>MarketingHub Setup</h3>
                        <p class="client-name">Client: Growth Marketing Inc.</p>
                        <div class="proposal-details">
                            <div class="detail-row">
                                <span class="detail-label">Type:</span>
                                <span class="detail-value">Blueprint</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Value:</span>
                                <span class="detail-value">$9,500</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Commission:</span>
                                <span class="detail-value">$475 (5%)</span>
                            </div>
                        </div>
                        <div class="negotiation-note">
                            <p><strong>Latest:</strong> Client requested 10% discount for upfront payment. Awaiting approval.</p>
                        </div>
                        <div class="status-update-section">
                            <label>Update Status:</label>
                            <select class="status-select" onchange="updateProposalStatus(this, 'prop-2')">
                                <option value="sent">Sent to Client</option>
                                <option value="meeting">Meeting Scheduled</option>
                                <option value="reviewing">Under Review</option>
                                <option value="negotiating" selected>Negotiating</option>
                                <option value="verbal">Verbal Commitment</option>
                                <option value="won">Won</option>
                                <option value="lost">Lost</option>
                            </select>
                        </div>
                        <div class="proposal-actions">
                            <button class="btn btn-secondary" onclick="viewProposal('prop-2')">View Proposal</button>
                            <button class="btn btn-primary" onclick="downloadProposal('prop-2')">Download PDF</button>
                        </div>
                    </div>
                </div>

                <!-- Proposal 3 - Won -->
                <div class="partner-proposal-card" data-status="won">
                    <div class="proposal-status-bar won">
                        <span class="status-label">WON</span>
                        <span class="status-date">Yesterday</span>
                    </div>
                    <div class="proposal-content">
                        <h3>CloudOps Migration</h3>
                        <p class="client-name">Client: Digital Dynamics</p>
                        <div class="proposal-details">
                            <div class="detail-row">
                                <span class="detail-label">Type:</span>
                                <span class="detail-value">Custom</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Value:</span>
                                <span class="detail-value">$22,000</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Commission:</span>
                                <span class="detail-value success">$1,100 (5%) - Earned!</span>
                            </div>
                        </div>
                        <div class="success-message">
                            <p>Congratulations! This proposal has been accepted. Commission will be paid upon project completion.</p>
                        </div>
                        <div class="proposal-actions">
                            <button class="btn btn-secondary" onclick="viewProposal('prop-3')">View Proposal</button>
                            <button class="btn btn-success" onclick="viewContract('prop-3')">View Contract</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Commission Tracking -->
        <section class="commission-section">
            <h2>Commission Tracking</h2>
            <div class="commission-table">
                <table>
                    <thead>
                        <tr>
                            <th>Proposal</th>
                            <th>Client</th>
                            <th>Value</th>
                            <th>Commission</th>
                            <th>Status</th>
                            <th>Payment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CloudOps Migration</td>
                            <td>Digital Dynamics</td>
                            <td>$22,000</td>
                            <td>$1,100</td>
                            <td><span class="badge won">Won</span></td>
                            <td><span class="payment-status pending">Pending</span></td>
                        </tr>
                        <tr>
                            <td>DataSync Platform</td>
                            <td>InfoTech Solutions</td>
                            <td>$18,000</td>
                            <td>$900</td>
                            <td><span class="badge won">Won</span></td>
                            <td><span class="payment-status paid">Paid</span></td>
                        </tr>
                        <tr>
                            <td>Workflow Automation</td>
                            <td>ProcessPro Inc.</td>
                            <td>$12,500</td>
                            <td>$625</td>
                            <td><span class="badge won">Won</span></td>
                            <td><span class="payment-status paid">Paid</span></td>
                        </tr>
                        <tr>
                            <td>ERP Integration</td>
                            <td>ManufactureCo</td>
                            <td>$35,000</td>
                            <td>$1,750</td>
                            <td><span class="badge won">Won</span></td>
                            <td><span class="payment-status paid">Paid</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="commission-summary">
                <div class="summary-item">
                    <span>Total Earned:</span>
                    <span class="amount">$4,375</span>
                </div>
                <div class="summary-item">
                    <span>Paid:</span>
                    <span class="amount">$3,275</span>
                </div>
                <div class="summary-item">
                    <span>Pending:</span>
                    <span class="amount pending">$1,100</span>
                </div>
            </div>
        </section>

        <!-- Quick Submit Section -->
        <section class="quick-submit">
            <h2>Submit New Proposal Request</h2>
            <p>Have a new opportunity? Submit it through our streamlined process.</p>
            <a href="https://tally.so/hexona-proposal" target="_blank" class="btn btn-primary btn-large">
                Submit via Tally Form
            </a>
        </section>
    </main>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="js/app.js"></script>
</body>
</html>