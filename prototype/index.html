<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexona OS - Proposal Management Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="header-left">
            <h1 class="logo">Hexona OS</h1>
        </div>
        <div class="header-right">
            <div class="notifications">
                <span class="notification-badge">3</span>
                <svg class="icon-bell" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
            </div>
            <div class="user-info">
                <span class="user-name">Hamza</span>
                <span class="user-role">Admin</span>
            </div>
        </div>
    </header>

    <!-- Metrics Bar -->
    <section class="metrics-bar">
        <div class="metric-card">
            <span class="metric-label">Total Proposals</span>
            <span class="metric-value">124</span>
            <span class="metric-change positive">+12 this week</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">Conversion Rate</span>
            <span class="metric-value">15.3%</span>
            <span class="metric-change positive">↑ from 5%</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">Avg Cycle Time</span>
            <span class="metric-value">18 hrs</span>
            <span class="metric-change positive">↓ from 48 hrs</span>
        </div>
        <div class="metric-card">
            <span class="metric-label">In Progress</span>
            <span class="metric-value">8</span>
            <span class="metric-change">2 overdue</span>
        </div>
    </section>

    <!-- Filter Bar -->
    <section class="filter-bar">
        <button class="btn btn-primary" onclick="openNewProposal()">
            + New Proposal
        </button>
        <div class="filter-group">
            <input type="text" class="search-input" placeholder="Search proposals...">
            <select class="filter-select">
                <option value="">All Partners</option>
                <option value="partner1">DFY Dave</option>
                <option value="partner2">Agency Alex</option>
                <option value="partner3">Consultant Chris</option>
            </select>
            <select class="filter-select">
                <option value="">All Types</option>
                <option value="blueprint">Blueprint</option>
                <option value="discovery">Discovery</option>
                <option value="custom">Custom</option>
            </select>
        </div>
    </section>

    <!-- View Selector -->
    <section class="view-selector-bar">
        <div class="view-toggle-buttons">
            <button class="view-toggle-btn active" onclick="window.location.href='index.html'">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <rect x="1" y="2" width="4" height="12"></rect>
                    <rect x="6" y="2" width="4" height="12"></rect>
                    <rect x="11" y="2" width="4" height="12"></rect>
                </svg>
                Kanban
            </button>
            <button class="view-toggle-btn" onclick="window.location.href='list-view.html'">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <rect x="2" y="3" width="12" height="2"></rect>
                    <rect x="2" y="7" width="12" height="2"></rect>
                    <rect x="2" y="11" width="12" height="2"></rect>
                </svg>
                List View
            </button>
        </div>
    </section>

    <!-- Main Pipeline View -->
    <main class="pipeline-container">
        <div class="pipeline-wrapper">
            <!-- PENDING Column -->
            <div class="pipeline-column" data-status="pending">
                <div class="column-header">
                    <h3>PENDING</h3>
                    <span class="column-count">2</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-1">
                        <div class="card-header">
                            <span class="card-type blueprint">Blueprint</span>
                            <span class="card-sla green">2h left</span>
                        </div>
                        <h4 class="card-title">TechCorp Automation</h4>
                        <p class="card-client">via DFY Dave</p>
                        <div class="card-footer">
                            <span class="card-value">$15,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-1')">View</button>
                        </div>
                    </div>
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-2">
                        <div class="card-header">
                            <span class="card-type discovery">Discovery</span>
                            <span class="card-sla yellow">45m left</span>
                        </div>
                        <h4 class="card-title">RetailPlus Integration</h4>
                        <p class="card-client">via Agency Alex</p>
                        <div class="card-footer">
                            <span class="card-value">$8,500</span>
                            <button class="card-action" onclick="openProposalDetail('prop-2')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TRIAGE Column -->
            <div class="pipeline-column" data-status="triage">
                <div class="column-header">
                    <h3>TRIAGE</h3>
                    <span class="column-count">1</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-3">
                        <div class="card-header">
                            <span class="card-type custom">Custom</span>
                            <span class="card-sla green">6h left</span>
                        </div>
                        <h4 class="card-title">FinanceFlow System</h4>
                        <p class="card-client">via Consultant Chris</p>
                        <div class="card-meta">
                            <span class="assignee">Hamza reviewing...</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$25,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-3')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DRAFTING Column -->
            <div class="pipeline-column" data-status="drafting">
                <div class="column-header">
                    <h3>DRAFTING</h3>
                    <span class="column-count">2</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-4">
                        <div class="card-header">
                            <span class="card-type blueprint">Blueprint</span>
                            <span class="card-sla green">12h left</span>
                        </div>
                        <h4 class="card-title">EcomPro Automation</h4>
                        <p class="card-client">via DFY Dave</p>
                        <div class="card-meta">
                            <span class="assignee">Abdul creating...</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$12,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-4')">View</button>
                        </div>
                    </div>
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-5">
                        <div class="card-header">
                            <span class="card-type discovery">Discovery</span>
                            <span class="card-sla yellow">3h left</span>
                        </div>
                        <h4 class="card-title">LogisticsPro Analysis</h4>
                        <p class="card-client">via Agency Alex</p>
                        <div class="card-meta">
                            <span class="assignee">Abdul creating...</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$18,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-5')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- REVIEW Column -->
            <div class="pipeline-column" data-status="review">
                <div class="column-header">
                    <h3>REVIEW</h3>
                    <span class="column-count">1</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-6">
                        <div class="card-header">
                            <span class="card-type custom">Custom</span>
                            <span class="card-sla green">8h left</span>
                        </div>
                        <h4 class="card-title">HealthTech Platform</h4>
                        <p class="card-client">via Consultant Chris</p>
                        <div class="card-meta">
                            <span class="quality-score">Quality: 4.2/5</span>
                            <span class="assignee">Hamza reviewing...</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$32,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-6')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SENT Column -->
            <div class="pipeline-column" data-status="sent">
                <div class="column-header">
                    <h3>SENT</h3>
                    <span class="column-count">3</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-7">
                        <div class="card-header">
                            <span class="card-type blueprint">Blueprint</span>
                            <span class="card-age">3 days ago</span>
                        </div>
                        <h4 class="card-title">MarketingHub Setup</h4>
                        <p class="card-client">via DFY Dave</p>
                        <div class="card-meta">
                            <span class="last-nudge">Next nudge: Tomorrow</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$9,500</span>
                            <button class="card-action" onclick="openProposalDetail('prop-7')">View</button>
                        </div>
                    </div>
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-8">
                        <div class="card-header">
                            <span class="card-type discovery">Discovery</span>
                            <span class="card-age">5 days ago</span>
                        </div>
                        <h4 class="card-title">SalesPro Integration</h4>
                        <p class="card-client">via Agency Alex</p>
                        <div class="card-meta">
                            <span class="last-nudge warning">Needs follow-up</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$14,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-8')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NEGOTIATION Column -->
            <div class="pipeline-column" data-status="negotiation">
                <div class="column-header">
                    <h3>NEGOTIATION</h3>
                    <span class="column-count">1</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card" draggable="true" ondragstart="drag(event)" id="prop-9">
                        <div class="card-header">
                            <span class="card-type custom">Custom</span>
                            <span class="card-age">2 days ago</span>
                        </div>
                        <h4 class="card-title">DataSync Enterprise</h4>
                        <p class="card-client">via Consultant Chris</p>
                        <div class="card-meta">
                            <span class="negotiation-status">Verbal commitment</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$28,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-9')">View</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- WON/LOST Column -->
            <div class="pipeline-column" data-status="closed">
                <div class="column-header">
                    <h3>CLOSED</h3>
                    <span class="column-count">2</span>
                </div>
                <div class="column-body" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="proposal-card won" draggable="true" ondragstart="drag(event)" id="prop-10">
                        <div class="card-header">
                            <span class="card-status won">WON</span>
                            <span class="card-age">Yesterday</span>
                        </div>
                        <h4 class="card-title">CloudOps Migration</h4>
                        <p class="card-client">via DFY Dave</p>
                        <div class="card-footer">
                            <span class="card-value">$22,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-10')">View</button>
                        </div>
                    </div>
                    <div class="proposal-card lost" draggable="true" ondragstart="drag(event)" id="prop-11">
                        <div class="card-header">
                            <span class="card-status lost">LOST</span>
                            <span class="card-age">2 days ago</span>
                        </div>
                        <h4 class="card-title">InventoryPro System</h4>
                        <p class="card-client">via Agency Alex</p>
                        <div class="card-meta">
                            <span class="loss-reason">Budget constraints</span>
                        </div>
                        <div class="card-footer">
                            <span class="card-value">$16,000</span>
                            <button class="card-action" onclick="openProposalDetail('prop-11')">View</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Proposal Detail Modal -->
    <div id="proposalModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalBody">
                <!-- Content will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="js/app.js"></script>
</body>
</html>